events {
	worker_connections 1024;
}

http {
	include /etc/nginx/mime.types;
	include /etc/nginx/conf.d/*.conf;
	default_type application/octet-stream;

	log_format json escape=json
	'{'
		'"Authorization":"$http_authorization",'
		'"RequestTime":"$time_iso8601",'
		'"RemoteAddress":"$remote_addr",'
		'"RemotePort":"$remote_port",'
		'"RemoteUser":"$remote_user",'
		'"RequestHost":"$host",'
		'"RequestPort":"$server_port",'
		'"RequestMethod":"$request_method",'
		'"RequestPath":"$request_uri",'
		'"RequestBody":"$request_body",'
		'"ResponseStatus":"$status",'
		'"Upstream":"$upstream_addr",'
		'"UpstreamPath":"$uri",'
		'"UpstreamResponseTime":"$upstream_response_time"'
	'}';

	access_log localhost:5044 json;
}